// ==========================================================================
// #COLOR INVERT
// ==========================================================================

// Functions to find color luminence and return an inverted value.
// https://css-tricks.com/snippets/sass/luminance-color-function/

// Color Luminence
// ==========================================================================

// Returns the luminance of `$color` as a float (between 0 and 1).
// 1 is pure white, 0 is pure black.
//
// @param {Color} $color - Color
// @return {Number}
// @link http://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef Reference

$color-invert: $color-gray-mineshaft !default;
$color-invert-o: $color-white !default;

@function luminance($color) {

  $color-rgb: (
    'red':   red($color),
    'green': green($color),
    'blue':  blue($color)
  );

  @each $name, $value in $color-rgb {
    $value: $value / 255;

    @if $value < 0.03928 {
      $value: $value / 12.92;
    }

    @else {
      $value: ($value + .055) / 1.055;
      $value: pow($value, 2.4);
    }

    $color-rgb: map-merge($color-rgb, ($name: $value));
  }

  @return (
    (map-get($color-rgb, 'red') * .2126) +
    (map-get($color-rgb, 'green') * .7152) +
    (map-get($color-rgb, 'blue') * .0722)
  );
}





// Invet Color
// ==========================================================================

// Return a color value according to the given input color luminence.

@function color-invert($color) {

  @if (luminance($color) > 0.55) {
    @return $color-invert;
  }

  @else {
    @return $color-invert-o;
  }

}
